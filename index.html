<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>태하기록</title>
<style>
  body {
    font-family: Arial, sans-serif;
    text-align: center;
    background-color: #f5f5f5;
    margin: 0;
    padding: 20px;
  }
  h1 {
    font-size: 2em;
    margin-bottom: 20px;
  }
  button {
    font-size: 1.8em; /* 버튼 글자 크게 */
    margin: 10px;
    padding: 15px 25px;
    cursor: pointer;
    border-radius: 10px;
    border: none;
    background-color: #4CAF50;
    color: white;
  }
  input[type="number"] {
    font-size: 1.8em; /* 입력창 글자 크게 */
    width: 120px;
    padding: 5px;
    margin: 10px;
    border-radius: 5px;
    border: 1px solid #ccc;
    text-align: center;
  }
  .input-section, .poop-section, .pee-section {
    margin-bottom: 20px;
  }
</style>
</head>
<body>
<h1>태하기록</h1>

<!-- 모유/분유 입력 -->
<div class="input-section">
  <input type="number" id="milkAmount" placeholder="ml">
  <button onclick="logMilk('모유')">모유 수유</button>
  <button onclick="logMilk('분유')">분유 수유</button>
</div>

<!-- 대변 버튼 -->
<div class="poop-section">
  <button onclick="logData('대변', '설사')">대변: 설사</button>
  <button onclick="logData('대변', '묽은똥')">대변: 묽은똥</button>
  <button onclick="logData('대변', '보통')">대변: 보통</button>
</div>

<!-- 소변 버튼 -->
<div class="pee-section">
  <button onclick="logData('소변', '')">소변</button>
</div>

<script>
  // Google Apps Script Web App URL
  const sheetUrl = 'https://script.google.com/macros/s/AKfycbw5KSOrKDWhJtpe_Qfg4iGsMfIYIcJbx6EV3sZES3PNkOBeBENzgawrfAWCH-ATupkh/exec';

  function logData(type, subtype) {
    const timestamp = new Date().toLocaleString();
    const data = {time: timestamp, type: type, ml: '', poopType: subtype, pee: type==='소변'?'O':''};
    sendToSheet(data);
  }

  function logMilk(milkType) {
    const mlInput = document.getElementById('milkAmount').value;
    if(!mlInput) {
      alert('수유량을 입력하세요.');
      return;
    }
    const timestamp = new Date().toLocaleString();
    const data = {time: timestamp, type: milkType, ml: mlInput, poopType: '', pee: ''};
    sendToSheet(data);
    document.getElementById('milkAmount').value = '';
  }

  function sendToSheet(data) {
    const url = `${sheetUrl}?sheetId=1gb6GQ3EuLX7lHDN7RgCQc4OYKYwOAcdM_UreK6X2uKs&time=${encodeURIComponent(data.time)}&type=${encodeURIComponent(data.type)}&ml=${encodeURIComponent(data.ml)}&poopType=${encodeURIComponent(data.poopType)}&pee=${encodeURIComponent(data.pee)}`;
    fetch(url)
      .then(response => response.text())
      .then(text => console.log('Sheet response:', text))
      .catch(err => console.error(err));
  }
</script>
</body>
</html>
