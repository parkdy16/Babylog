<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>태하기록</title>
<style>
  body { font-family: Arial, sans-serif; text-align: center; background-color: #f5f5f5; margin: 0; padding: 20px; }
  h1 { font-size: 2em; margin-bottom: 20px; }
  button { font-size: 1.5em; margin: 10px; padding: 15px 25px; cursor: pointer; border-radius: 10px; border: none; color: white; }
  input[type="number"] { font-size: 1.5em; width: 150px; padding: 5px; margin: 10px; border-radius: 5px; border: 1px solid #ccc; text-align: center; }
  .milk-mom { background-color: #FF69B4; }
  .milk-formula { background-color: #2196F3; }
  .poop-light { background-color: #B0B0B0; color: black; }
  .poop-dark { background-color: #505050; }
  .poop-brown { background-color: #8B4513; }
  .pee { background-color: #FFEB3B; color: black; }
</style>
</head>
<body>
<h1>태하기록</h1>

<div>
  <input type="number" id="milkAmount" placeholder="수유량 (ml)">
  <button class="milk-mom" onclick="logMilk('모유')">모유 수유</button>
  <button class="milk-formula" onclick="logMilk('분유')">분유 수유</button>
</div>

<div>
  <button class="poop-light" onclick="logData('대변','설사')">대변: 설사</button>
  <button class="poop-dark" onclick="logData('대변','묽은똥')">대변: 묽은똥</button>
  <button class="poop-brown" onclick="logData('대변','보통')">대변: 보통</button>
</div>

<div>
  <button class="pee" onclick="logData('소변','')">소변</button>
</div>

<script>
  const webAppUrl = 'https://script.google.com/macros/s/AKfycbwrwfGmZ2GSSb0uT08eoz2QN57OAFMLvwYDHhox4NJcjIZS5ZL4Y5ereQTV5J1pUHu1/exec'; // 여기에 Apps Script Web App URL 넣기

  function logData(type, subtype) {
    const data = {
      type: type,
      subtype: subtype, // Apps Script에서 받는 키
      ml: '',
      consistency: '',  // Apps Script에서 받는 키
    };
    sendToSheet(data);
  }

  function logMilk(milkType) {
    const mlInput = document.getElementById('milkAmount').value;
    if (!mlInput) {
      alert('수유량을 입력하세요.');
      return;
    }
    const data = {
      type: milkType,
      subtype: '',       // 대변 없으므로 빈값
      ml: mlInput,
      consistency: '',   // 필요없음
    };
    sendToSheet(data);
    document.getElementById('milkAmount').value = '';
  }

  function sendToSheet(data) {
    fetch(webAppUrl, {
      method: 'POST',
      body: JSON.stringify(data),
      headers: { 'Content-Type': 'application/json' }
    })
    .then(res => res.json())
    .then(res => console.log('Sheet response:', res))
    .catch(err => console.error(err));
  }
</script>
</body>
</html>

